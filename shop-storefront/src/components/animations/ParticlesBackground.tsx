'use client';
// ParticlesBackground.tsx
import React, {useState, useCallback, useRef, useEffect} from 'react';
import type {Container, Engine, } from "tsparticles-engine";
import Particles from "react-tsparticles";
import {loadFull} from "tsparticles";


const randomamizedCoordsHalf = [{'x': 1158.12, 'y': 717.79}, {'x': 1198.73, 'y': 863.66}, {'x': 942.279, 'y': 473.688}, {'x': 522.18, 'y': 218.944}, {'x': 489.514, 'y': 489.546}, {'x': 628.128, 'y': 694.806}, {'x': 1248.17, 'y': 761.727}, {'x': 547.922, 'y': 592.656}, {'x': 1108.96, 'y': 682.286}, {'x': 1334.23, 'y': 264.953}, {'x': 1531.02, 'y': 408.46}, {'x': 667.244, 'y': 293.185}, {'x': 534.531, 'y': 840.2}, {'x': 1404.89, 'y': 376.842}, {'x': 1268.97, 'y': 546.179}, {'x': 579.201, 'y': 669.323}, {'x': 704.054, 'y': 791.177}, {'x': 465.893, 'y': 273.716}, {'x': 1293.93, 'y': 755.802}, {'x': 1431.81, 'y': 839.039}, {'x': 545.688, 'y': 560.562}, {'x': 698.87, 'y': 725.796}, {'x': 455.429, 'y': 617.389}, {'x': 1161.05, 'y': 650.91}, {'x': 1181.33, 'y': 778.568}, {'x': 960.007, 'y': 337.533}, {'x': 683.109, 'y': 884.879}, {'x': 1464.17, 'y': 533.668}, {'x': 1133.6, 'y': 851.793}, {'x': 396.844, 'y': 364.951}, {'x': 1121.72, 'y': 269.967}, {'x': 750.103, 'y': 480.653}, {'x': 650.999, 'y': 546.075}, {'x': 390.491, 'y': 398.48}, {'x': 1189.91, 'y': 642.389}, {'x': 546.567, 'y': 292.04}, {'x': 522.18, 'y': 218.944}, {'x': 668.203, 'y': 270.378}, {'x': 706.803, 'y': 460.281}, {'x': 1423.78, 'y': 437.394}, {'x': 989.207, 'y': 523.244}, {'x': 1546.14, 'y': 622.936}, {'x': 1374.46, 'y': 549.211}, {'x': 885.484, 'y': 417.53}, {'x': 1363.27, 'y': 629.627}, {'x': 1183.21, 'y': 430.606}, {'x': 835.767, 'y': 683.012}, {'x': 1039.52, 'y': 230.827}, {'x': 817.072, 'y': 724.449}, {'x': 1196.21, 'y': 390.039}, {'x': 1528.78, 'y': 489.368}, {'x': 653.571, 'y': 428.147}, {'x': 758.93, 'y': 650.829}, {'x': 1172.97, 'y': 329.503}, {'x': 579.314, 'y': 740.984}, {'x': 515.505, 'y': 548.219}, {'x': 455.429, 'y': 617.389}, {'x': 661.077, 'y': 322.909}, {'x': 1297.79, 'y': 396.948}, {'x': 1198.72, 'y': 711.865}, {'x': 862.613, 'y': 438.692}, {'x': 1415.26, 'y': 294.515}, {'x': 1174.53, 'y': 737.84}, {'x': 491.304, 'y': 663.817}, {'x': 462.265, 'y': 470.101}, {'x': 1458.03, 'y': 666.961}, {'x': 1539.08, 'y': 702.602}, {'x': 1332.72, 'y': 812.661}, {'x': 1418.82, 'y': 686.269}, {'x': 533.394, 'y': 280.689}, {'x': 727.53, 'y': 360.275}, {'x': 1523.18, 'y': 364.951}, {'x': 1349.0, 'y': 337.444}, {'x': 1176.97, 'y': 684.794}, {'x': 1334.08, 'y': 743.33}, {'x': 960.338, 'y': 549.743}, {'x': 552.597, 'y': 313.742}, {'x': 1334.08, 'y': 743.33}, {'x': 908.484, 'y': 655.747}, {'x': 1310.64, 'y': 297.53}, {'x': 697.234, 'y': 578.531}, {'x': 1289.64, 'y': 617.671}, {'x': 1433.47, 'y': 645.114}, {'x': 679.256, 'y': 386.847}, {'x': 1057.36, 'y': 438.781}, {'x': 959.951, 'y': 314.944}, {'x': 972.076, 'y': 551.661}, {'x': 545.511, 'y': 549.122}, {'x': 1289.65, 'y': 617.679}, {'x': 921.818, 'y': 458.234}, {'x': 847.715, 'y': 763.565}, {'x': 1326.79, 'y': 514.094}, {'x': 1372.05, 'y': 592.744}, {'x': 567.592, 'y': 767.29}, {'x': 1173.06, 'y': 819.554}, {'x': 1291.85, 'y': 694.895}, {'x': 1256.67, 'y': 270.459}, {'x': 1226.21, 'y': 693.799}, {'x': 1436.72, 'y': 594.881}, {'x': 1176.97, 'y': 684.794}, {'x': 723.765, 'y': 389.95}, {'x': 1130.65, 'y': 452.453}, {'x': 1013.54, 'y': 529.935}, {'x': 1257.35, 'y': 194.267}, {'x': 491.941, 'y': 746.676}, {'x': 373.537, 'y': 645.492}, {'x': 952.042, 'y': 597.372}, {'x': 426.576, 'y': 699.426}, {'x': 498.745, 'y': 427.897}, {'x': 555.862, 'y': 405.34}, {'x': 1023.98, 'y': 455.63}, {'x': 1185.43, 'y': 875.583}, {'x': 1377.98, 'y': 778.504}, {'x': 715.502, 'y': 864.885}, {'x': 562.997, 'y': 456.178}, {'x': 1517.16, 'y': 588.326}, {'x': 407.171, 'y': 485.031}, {'x': 1387.46, 'y': 647.927}, {'x': 1124.86, 'y': 371.465}, {'x': 1222.08, 'y': 322.57}, {'x': 643.3, 'y': 826.689}, {'x': 1516.25, 'y': 724.135}, {'x': 766.903, 'y': 467.182}, {'x': 658.303, 'y': 359.727}, {'x': 1254.9, 'y': 701.522}, {'x': 1539.47, 'y': 505.742}, {'x': 1145.98, 'y': 454.461}, {'x': 557.241, 'y': 685.995}, {'x': 1435.43, 'y': 541.238}, {'x': 1222.72, 'y': 578.62}, {'x': 1296.43, 'y': 446.891}, {'x': 1214.28, 'y': 789.935}, {'x': 1052.69, 'y': 679.997}, {'x': 388.992, 'y': 408.46}, {'x': 1477.42, 'y': 454.412}, {'x': 441.039, 'y': 465.602}, {'x': 700.41, 'y': 829.47}, {'x': 1429.53, 'y': 361.936}, {'x': 1253.57, 'y': 389.023}, {'x': 1199.43, 'y': 295.547}, {'x': 1174.23, 'y': 601.451}, {'x': 1035.1, 'y': 539.593}, {'x': 959.975, 'y': 367.474}, {'x': 1169.85, 'y': 480.742}, {'x': 633.481, 'y': 758.099}, {'x': 748.224, 'y': 330.64}, {'x': 835.767, 'y': 683.012}, {'x': 1081.31, 'y': 418.312}, {'x': 1518.37, 'y': 565.584}, {'x': 562.997, 'y': 456.178}, {'x': 847.715, 'y': 763.565}, {'x': 793.983, 'y': 454.251}, {'x': 667.518, 'y': 732.31}, {'x': 1477.42, 'y': 454.412}, {'x': 1436.72, 'y': 594.881}, {'x': 510.547, 'y': 698.079}, {'x': 1185.43, 'y': 875.583}, {'x': 959.999, 'y': 618.752}, {'x': 1250.05, 'y': 792.507}, {'x': 1313.63, 'y': 276.054}, {'x': 379.253, 'y': 523.276}, {'x': 1306.85, 'y': 367.772}, {'x': 873.69, 'y': 547.203}, {'x': 414.572, 'y': 446.286}, {'x': 1242.24, 'y': 885.25}, {'x': 700.41, 'y': 829.47}, {'x': 1198.72, 'y': 711.865}, {'x': 1518.37, 'y': 565.681}, {'x': 1523.18, 'y': 364.951}, {'x': 373.932, 'y': 621.089}, {'x': 980.0, 'y': 239.002}, {'x': 483.83, 'y': 592.631}, {'x': 436.54, 'y': 800.101}, {'x': 1458.03, 'y': 666.961}, {'x': 1257.99, 'y': 458.105}, {'x': 873.69, 'y': 547.203}, {'x': 889.144, 'y': 669.363}, {'x': 1270.29, 'y': 827.56}, {'x': 827.681, 'y': 812.339}, {'x': 724.095, 'y': 753.286}, {'x': 509.362, 'y': 390.233}, {'x': 679.256, 'y': 386.847}, {'x': 994.149, 'y': 579.644}, {'x': 1333.26, 'y': 200.313}, {'x': 1196.21, 'y': 390.039}, {'x': 1154.76, 'y': 848.73}, {'x': 1300.99, 'y': 883.145}, {'x': 1401.57, 'y': 595.808}, {'x': 373.932, 'y': 621.089}, {'x': 602.355, 'y': 276.86}, {'x': 1248.17, 'y': 761.727}, {'x': 758.197, 'y': 726.739}, {'x': 407.171, 'y': 485.031}, {'x': 959.951, 'y': 298.812}, {'x': 960.007, 'y': 315.008}, {'x': 1513.02, 'y': 487.022}, {'x': 841.523, 'y': 777.536}, {'x': 1042.91, 'y': 286.623}, {'x': 1371.24, 'y': 758.14}, {'x': 460.83, 'y': 660.979}, {'x': 1217.36, 'y': 481.863}, {'x': 706.803, 'y': 460.281}, {'x': 400.601, 'y': 752.77}, {'x': 518.407, 'y': 595.727}, {'x': 388.774, 'y': 518.955}, {'x': 533.475, 'y': 448.237}, {'x': 1256.4, 'y': 623.911}, {'x': 704.376, 'y': 541.012}, {'x': 1035.1, 'y': 539.593}, {'x': 864.128, 'y': 324.295}, {'x': 1257.53, 'y': 292.346}, {'x': 1545.34, 'y': 661.938}, {'x': 486.072, 'y': 635.052}, {'x': 1385.14, 'y': 840.418}, {'x': 1418.41, 'y': 317.346}, {'x': 679.256, 'y': 386.847}, {'x': 934.596, 'y': 334.711}, {'x': 1441.29, 'y': 703.553}, {'x': 1252.78, 'y': 533.466}, {'x': 836.509, 'y': 632.473}, {'x': 820.635, 'y': 766.959}, {'x': 864.128, 'y': 324.295}, {'x': 786.405, 'y': 851.777}, {'x': 592.834, 'y': 814.459}, {'x': 586.626, 'y': 264.824}, {'x': 617.777, 'y': 805.704}, {'x': 1455.9, 'y': 331.551}, {'x': 1113.52, 'y': 622.347}, {'x': 613.133, 'y': 367.676}, {'x': 855.93, 'y': 762.283}, {'x': 551.477, 'y': 782.841}, {'x': 1226.21, 'y': 693.799}, {'x': 1427.69, 'y': 747.458}, {'x': 433.275, 'y': 769.144}, {'x': 877.148, 'y': 711.921}, {'x': 649.887, 'y': 546.317}, {'x': 1274.43, 'y': 256.447}, {'x': 1212.35, 'y': 468.649}, {'x': 1195.03, 'y': 273.861}, {'x': 1181.33, 'y': 778.568}, {'x': 679.288, 'y': 812.847}, {'x': 1099.31, 'y': 767.016}, {'x': 1083.4, 'y': 630.618}, {'x': 1074.4, 'y': 727.481}, {'x': 1183.98, 'y': 453.961}, {'x': 743.008, 'y': 684.713}, {'x': 643.3, 'y': 826.689}, {'x': 832.002, 'y': 496.205}, {'x': 639.229, 'y': 620.404}, {'x': 1199.43, 'y': 295.547}, {'x': 1487.2, 'y': 768.765}, {'x': 373.537, 'y': 645.492}, {'x': 835.034, 'y': 581.885}, {'x': 706.045, 'y': 215.719}, {'x': 1065.03, 'y': 473.14}, {'x': 960.338, 'y': 519.713}, {'x': 1018.7, 'y': 591.954}, {'x': 402.221, 'y': 549.041}, {'x': 764.316, 'y': 762.283}, {'x': 778.698, 'y': 776.359}, {'x': 1356.98, 'y': 456.267}, {'x': 743.734, 'y': 741.653}, {'x': 658.126, 'y': 194.178}, {'x': 723.402, 'y': 296.539}, {'x': 1362.1, 'y': 310.921}, {'x': 1067.49, 'y': 392.345}, {'x': 1514.63, 'y': 503.807}, {'x': 579.201, 'y': 669.323}, {'x': 811.171, 'y': 216.703}, {'x': 593.172, 'y': 514.005}, {'x': 579.201, 'y': 669.323}, {'x': 1152.53, 'y': 444.98}, {'x': 1546.41, 'y': 634.738}, {'x': 959.967, 'y': 571.687}, {'x': 773.982, 'y': 454.372}, {'x': 679.256, 'y': 420.375}, {'x': 1152.82, 'y': 758.156}, {'x': 581.854, 'y': 667.001}, {'x': 1172.97, 'y': 329.503}, {'x': 1375.99, 'y': 722.539}, {'x': 1374.45, 'y': 549.219}, {'x': 869.739, 'y': 502.581}, {'x': 1483.56, 'y': 799.883}, {'x': 877.148, 'y': 711.921}, {'x': 786.405, 'y': 851.777}, {'x': 1515.95, 'y': 519.963}, {'x': 1316.79, 'y': 476.792}, {'x': 1415.35, 'y': 730.609}, {'x': 459.323, 'y': 257.399}, {'x': 630.305, 'y': 617.591}, {'x': 959.991, 'y': 258.866}, {'x': 548.792, 'y': 866.78}, {'x': 1511.06, 'y': 472.301}, {'x': 787.34, 'y': 229.166}, {'x': 1010.34, 'y': 655.247}, {'x': 1256.67, 'y': 270.459}, {'x': 1032.35, 'y': 479.033}, {'x': 772.869, 'y': 460.015}, {'x': 1028.81, 'y': 681.512}, {'x': 811.171, 'y': 216.703}, {'x': 872.553, 'y': 246.773}, {'x': 1130.65, 'y': 452.453}, {'x': 636.633, 'y': 528.186}, {'x': 519.665, 'y': 371.021}, {'x': 1050.24, 'y': 502.67}, {'x': 1289.33, 'y': 214.163}, {'x': 532.524, 'y': 647.846}, {'x': 862.613, 'y': 438.692}, {'x': 897.004, 'y': 658.794}, {'x': 1039.52, 'y': 230.827}, {'x': 1334.23, 'y': 264.953}, {'x': 886.411, 'y': 576.274}, {'x': 1062.51, 'y': 601.346}, {'x': 765.92, 'y': 561.158}, {'x': 1183.98, 'y': 453.961}, {'x': 1254.9, 'y': 701.522}, {'x': 959.951, 'y': 314.944}, {'x': 960.289, 'y': 519.616}, {'x': 1154.76, 'y': 848.73}, {'x': 766.065, 'y': 847.537}, {'x': 1086.94, 'y': 789.468}, {'x': 1173.06, 'y': 819.554}, {'x': 391.983, 'y': 389.459}, {'x': 680.231, 'y': 762.952}, {'x': 915.071, 'y': 638.704}, {'x': 1070.13, 'y': 520.696}, {'x': 679.256, 'y': 386.847}, {'x': 1519.61, 'y': 753.657}, {'x': 895.376, 'y': 437.918}, {'x': 1511.33, 'y': 474.212}, {'x': 648.258, 'y': 466.489}, {'x': 1546.08, 'y': 621.106}, {'x': 462.999, 'y': 330.672}, {'x': 1052.94, 'y': 550.509},  {'x': 665.075, 'y': 701.433}, {'x': 787.856, 'y': 663.269}, {'x': 436.371, 'y': 377.664}, {'x': 420.884, 'y': 306.277}, {'x': 1442.33, 'y': 808.776}, {'x': 1212.27, 'y': 215.889}, {'x': 1375.99, 'y': 722.539}, {'x': 1024.6, 'y': 438.007}, {'x': 477.784, 'y': 343.24}, {'x': 485.12, 'y': 545.825}, {'x': 1083.81, 'y': 449.535}, {'x': 1513.02, 'y': 487.022}, {'x': 1480.68, 'y': 716.855}, {'x': 401.56, 'y': 566.253}, {'x': 631.974, 'y': 728.488}, {'x': 1377.98, 'y': 778.504}, {'x': 959.991, 'y': 298.844}, {'x': 557.241, 'y': 685.995}, {'x': 649.887, 'y': 546.325}, {'x': 578.79, 'y': 383.759}, {'x': 1199.43, 'y': 508.16}, {'x': 854.946, 'y': 473.051}, {'x': 960.015, 'y': 240.945}, {'x': 375.44, 'y': 591.616}, {'x': 743.734, 'y': 741.653}, {'x': 1218.83, 'y': 829.72}, {'x': 1514.03, 'y': 389.733}, {'x': 593.172, 'y': 514.005}, {'x': 1283.33, 'y': 528.29}, {'x': 1238.96, 'y': 812.758}, {'x': 1266.39, 'y': 428.236}, {'x': 545.688, 'y': 560.562}, {'x': 429.567, 'y': 322.151}, {'x': 1129.59, 'y': 726.545}, {'x': 1534.68, 'y': 594.736}, {'x': 515.674, 'y': 559.949}, {'x': 389.371, 'y': 405.872}, {'x': 1183.21, 'y': 430.606}, {'x': 1517.16, 'y': 588.326}, {'x': 1028.81, 'y': 681.512}, {'x': 1070.13, 'y': 520.696}, {'x': 1333.26, 'y': 200.313}, {'x': 737.575, 'y': 801.552}, {'x': 534.531, 'y': 840.2}, {'x': 663.205, 'y': 868.755}, {'x': 817.072, 'y': 724.449}, {'x': 1309.44, 'y': 803.769}, {'x': 1546.41, 'y': 634.738}, {'x': 1523.66, 'y': 367.168}, {'x': 1546.47, 'y': 647.065}, {'x': 1147.09, 'y': 460.104}, {'x': 507.597, 'y': 312.315}, {'x': 581.854, 'y': 667.001}, {'x': 707.617, 'y': 468.545}, {'x': 1431.66, 'y': 491.48}, {'x': 787.856, 'y': 663.269}, {'x': 1091.66, 'y': 810.92}, {'x': 1253.57, 'y': 389.023}, {'x': 1523.18, 'y': 364.959}, {'x': 845.175, 'y': 728.327}, {'x': 1252.46, 'y': 732.39}, {'x': 587.787, 'y': 416.917}, {'x': 658.303, 'y': 359.727}, {'x': 680.231, 'y': 762.952}, {'x': 1280.73, 'y': 620.493}, {'x': 684.875, 'y': 510.877}, {'x': 1035.51, 'y': 646.96}, {'x': 406.921, 'y': 486.982}, {'x': 1042.91, 'y': 286.623}, {'x': 730.279, 'y': 200.458}, {'x': 1338.12, 'y': 667.09}, {'x': 723.765, 'y': 389.95}, {'x': 491.941, 'y': 746.676}, {'x': 1426.93, 'y': 671.653}, {'x': 1106.28, 'y': 731.431}, {'x': 1368.72, 'y': 290.589}, {'x': 750.103, 'y': 480.653}, {'x': 579.314, 'y': 740.984}, {'x': 373.537, 'y': 647.073}, {'x': 1192.45, 'y': 360.372}, {'x': 421.456, 'y': 685.584}, {'x': 639.229, 'y': 620.404}, {'x': 855.946, 'y': 642.437}, {'x': 1404.48, 'y': 548.316}, {'x': 1182.42, 'y': 801.512}, {'x': 959.975, 'y': 337.484}, {'x': 908.202, 'y': 618.864}, {'x': 401.576, 'y': 565.536}, {'x': 704.376, 'y': 541.012}, {'x': 1493.45, 'y': 327.318}, {'x': 1405.09, 'y': 701.328}, {'x': 1270.08, 'y': 546.429}, {'x': 1271.71, 'y': 466.594}, {'x': 1332.19, 'y': 417.006}, {'x': 915.071, 'y': 638.704}, {'x': 588.867, 'y': 199.757}, {'x': 1338.12, 'y': 667.09}, {'x': 622.187, 'y': 396.859}, {'x': 1417.05, 'y': 248.031}, {'x': 617.543, 'y': 882.775}, {'x': 1088.57, 'y': 585.158}, {'x': 536.24, 'y': 718.58}, {'x': 506.057, 'y': 731.455}, {'x': 864.636, 'y': 455.09}, {'x': 1078.47, 'y': 777.528}, {'x': 1293.93, 'y': 755.802}, {'x': 635.069, 'y': 501.824}, {'x': 1235.45, 'y': 453.792}, {'x': 887.628, 'y': 478.944}, {'x': 1372.05, 'y': 592.744}, {'x': 1307.78, 'y': 782.478}, {'x': 820.635, 'y': 766.959}, {'x': 1030.85, 'y': 669.355}, {'x': 736.744, 'y': 430.517}, {'x': 1242.24, 'y': 885.25}, {'x': 1415.26, 'y': 294.515}, {'x': 1174.23, 'y': 601.451}, {'x': 889.144, 'y': 669.363}, {'x': 560.111, 'y': 342.797}, {'x': 1238.96, 'y': 812.758}, {'x': 403.213, 'y': 403.986}, {'x': 959.999, 'y': 628.788}, {'x': 702.603, 'y': 481.758}, {'x': 720.524, 'y': 508.071}, {'x': 428.881, 'y': 703.739}, {'x': 1306.85, 'y': 367.772}, {'x': 936.684, 'y': 365.297}];

const ADD_PARTICLES_INTERVAL = 60;
const REMOVE_PARTICLES_INTERVAL = 60;
const INITIAL_DELAY = 5850;
const REMOVE_DELAY = 2300;
const ADD_PARTICLES_COUNT = 9;
const REMOVE_PARTICLES_COUNT = 10;
const MAX_SPEED = 0.02;
const RESET_SPEED = 0.01;
const INCREMENT_STEP = 0.008;


const ParticlesBackground = ({shouldPlayParticles}) => {
    const intervalIdRef = useRef<number | NodeJS.Timeout | null>(null);
    const timeoutIdRef = useRef<number | NodeJS.Timeout | null>(null);
    const removeIntervalIdRef = useRef<number | NodeJS.Timeout | null>(null);

    const [individualParticleOptions, setIndividualParticleOptions] = useState({

        move: {
            enable: true,
            speed: 0.01,
            direction: "inside",
            straight: true,
            outMode: "split",

        },
        polygon: {
            radius: 500,
            inline: {
                arrangement: "equidistant"
            },
            scale: 2,


        },
        shape: {

            type: "image",
            image: [
                {
                    src: "/images/dandelion-seed-one.png",
                    width: 25,
                    height: 25,
                },
                {
                    src: "/images/dandelion-seed-four.png",
                    width: 25,
                    height: 25,
                },


                // Add more images or GIFs as needed
            ],

        },
        autoPlay: false,


        size: {value: {min: 5, max: 15}, random: true, anim: {speed: 4, size_min: 5}},
        opacity: {value: 0.7, random: false, anim: {enable: true, speed: 0.5, opacity_min: 0.3, sync: true}},
    })

    const [particleOptions, setParticleOptions] = useState({
        background: {
            color: {
                value: "#030203",
            },
        },
        fpsLimit: 60,
        autoPlay: false,

        interactivity: {
            events: {
                onClick: {
                    enable: true,
                    mode: "push",
                },
                onHover: {
                    enable: false,
                    mode: "attract",

                },

                resize: true,
            },


            modes: {
                push: {
                    distance: 100,
                    quantity: 4,
                    speed: 0.01

                },
                repulse: {
                    distance: 100,
                    duration: 0.4,
                },
                grab: {
                    distance: 250,

                    lineLinked: {
                        opacity: 0.2,

                    },
                },
                attract: {
                    distance: 50,
                    duration: 0.4,
                    speed: 2.01

                },
                connect: {
                    distance: 600,
                    links: {
                        opacity: 0.5,


                    }
                },
            },
        },
        particles: {
            color: {value: "#ffffff"},
            number: {value: 14, density: {enable: true, area: 800}},
            size: {value: {min: 3, max: 20}, random: false, anim: {speed: 4, size_min: 10}},
            opacity: {

                random: false,
                value: 0.7
            },


            shape: {

                type: "image",
                image: [
                    {
                        src: "/images/dandelion-seed-one.png",
                        width: 25,
                        height: 25,
                    },
                    {
                        src: "/images/dandelion-seed-four.png",
                        width: 25,
                        height: 25,
                    },

                    {
                        src: "/images/dandelion-seed-three.png",
                        width: 25,
                        height: 25,
                    },


                ],

            },
            move: {
                enable: true,
                speed: 1.5,
                direction: "none",
                outMode: "split",
                random: true,

                straight: true,
                attract: {
                    enable: false,
                    rotateX: 200,
                    rotateY: 800
                }
            },
            fullScreen: {
                enable: true,
            }
        },
        polygon: {

            enable: false,

            move: {
                radius: 100,

            },


            inline: {
                arrangement: "equidistant"
            },
            scale: 1,

            type: "inline",

            url: "images/product/Mask-Path.svg",


        },


        detectRetina: false,
    });


    const particlesInit = useCallback(async (engine: Engine) => {


        await loadFull(engine);


    }, []);


    const particlesLoaded = useCallback((container) => {
        if (!shouldPlayParticles || !container) return;
        container.play();

        let index = 0;
        let currentSpeed = 0.005;

        timeoutIdRef.current = setTimeout(() => {
            intervalIdRef.current = setInterval(() => {
                if (index >= randomamizedCoordsHalf.length) {
                    if (intervalIdRef.current) clearInterval(intervalIdRef.current as any);
                    removeIntervalIdRef.current = setTimeout(() => {
                        setInterval(() => {
                            for (let i = 0; i < REMOVE_PARTICLES_COUNT && container.particles.count > 0; i++) {
                                container.particles.removeAt(30);
                            }
                            if (container.particles.count <= 0) {
                                if (removeIntervalIdRef.current) clearInterval(removeIntervalIdRef.current as any);
                            }
                        }, REMOVE_PARTICLES_INTERVAL);
                    }, REMOVE_DELAY);
                    return;
                }
                for (let i = 0; i < ADD_PARTICLES_COUNT && index < randomamizedCoordsHalf.length; i++) {
                    const coord = randomamizedCoordsHalf[index];
                    const options = {
                        ...individualParticleOptions,
                        move: {
                            ...individualParticleOptions.move,
                            speed: currentSpeed,
                        }
                    };
                    container.particles.addParticle({ x: coord.x, y: coord.y }, options);

                    currentSpeed += INCREMENT_STEP;
                    if (currentSpeed > MAX_SPEED) currentSpeed = RESET_SPEED;
                    index++;
                }
            }, ADD_PARTICLES_INTERVAL);
        }, INITIAL_DELAY);
    }, [shouldPlayParticles, individualParticleOptions]);

    useEffect(() => {
        return () => {
            if (intervalIdRef.current) clearInterval(intervalIdRef.current as any);
            if (timeoutIdRef.current) clearTimeout(timeoutIdRef.current as any);
            if (removeIntervalIdRef.current) clearInterval(removeIntervalIdRef.current as any);

        };
    }, []);


    return (
        <Particles
            id="tsparticles"
            init={particlesInit}
            // @ts-ignore
            loaded={particlesLoaded}
            className="absolute top-0 left-0 z-[0]"
            // @ts-ignore
            options={particleOptions}
        />
    );
};

export default ParticlesBackground;